<!DOCTYPE html>
<html>

<head>
    <title>Page Title</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>
        Welcome to Rock, Papers, Scissors
    </h1>

    <h2>Scoreboard</h2>
    <div id='Score'>
        <label id="plrScore">0</label>
        <label id="cpuScore">0</label>
    </div>


    <div class="keys">
        <div data-key="65" class="key">
            <kbd>A</kbd>
            <span class="selection">Rock</span>
        </div>
        <div data-key="83" class="key">
            <kbd>S</kbd>
            <span class="selection">Paper</span>
        </div>
        <div data-key="68" class="key">
            <kbd>D</kbd>
            <span class="selection">Scissors</span>
        </div>
    </div>

    <script>

        let playerScore = 0;
        let computerScore = 0;
        let totalScore = 0;

        function computerPlay() {
            let gameChoice = ['rock', 'paper', 'scissors'];
            // it randomly selects between Rock, Paper, or Scissors
            var randomNumber = Math.floor(Math.random() * gameChoice.length);
            // it returns the selection to the variable computerSelection
            let computerSelection = gameChoice[randomNumber];
            // console.log(computerSelection);
            return computerSelection;
        }

        function playRound(e) {

            const key = document.querySelector(`div[data-key="${e.keyCode}"]`);
            // We want the keycode to output the playerSelection

            let playerSelection = '';

            if (e.keyCode == 65) {
                playerSelection = 'rock'
            } else if (e.keyCode == 83) {
                playerSelection = 'paper'
            } else if (e.keyCode == 68) {
                playerSelection = 'scissors'
            } else {
                return;
            }

            computerSelection = computerPlay();

            console.log('Player: ' + playerSelection + ', Computer: ' + computerSelection);
                      

            
            if ((playerSelection == "rock" && computerSelection == "scissors")
                || (playerSelection == "paper" && computerSelection == "rock")
                || (playerSelection == "scissors" && computerSelection == "paper")) {
                playerScore++;

                let plrScore = document.getElementById('plrScore');
                plrScore.innerHTML = playerScore;

            } else {
                computerScore++;

                let cpuScore = document.getElementById('cpuScore');
                cpuScore.innerHTML = computerScore;

            }

            totalScore = playerScore + computerScore;

            console.log('Player score: ' + playerScore + ' Computer score: ' + computerScore)

            if(totalScore == 5 && playerScore > computerScore){
                alert('Player wins');
            } else if(totalScore == 5 && computerScore > playerScore){
                alert('Computer wins :(');
            }

            



        }


            window.addEventListener('keydown', playRound)     
        

        


    </script>
</body>

</html>